\section{Accessibility Evaluation}

\subsection{Validation}

\paragraph{Evaluation methodology}
We ensured that the page validated using a combination of the W3C
validator\todo{bib reference} and the
`HTML CodeSniffer' JavaScript tool\todo{bib reference}. The W3C
validator is the accepted standard for validation, and provided us
with the most rigourous check; the CodeSniffer tool is quicker and
more convenient to use while developing, helping us to avoid creating
issues in the first place.

No real `flaws' were uncovered as a result of this process.

\subsection{Labels and alternatives}

\paragraph{Evaluation methodology}
To ensure that the all appropriate elements had labels and text
alternatives, we used the `HTML CodeSniffer' JavaScript tool; this
tool is capable of checking all of the code-level criteria associated
with the WCAG 2.0 set of web accessibility guidelines\todo{bib
  reference}, up to level AAA, and will flag up missing labels and
text alternatives as errors. It found enough issues that we are
reasonably confident that it is accurate.

\paragraph{Issues found}
The design of our website does not make extensive use of images, so
there was not much scope for them to cause accessibility
issues. However, when checking for image text alteratives, we found
that while we had normally added alternative text for meaningful
images (such as clickable icons) without needing to pay explicit
attention to it, `decorative' images, such as the picture of each
finished dish, were left without text alternatives until the audit
called attention to it. This would have presented a potentially
serious accessibility issue, as the user of a screenreader, for
example, would have no way of knowing that those images were
meaningless.

For the most part, our initial design had contained labels for all
links and form controls, as a natural consequence of the text-oriented
design. The only unlabelled control was the text-input box for the
site-wide search, which (following a pattern established by many other
websites) was mainly described by the immediately adjacent `Search'
button. In this case, rather than adding an extra `Search' label,
which would only be visually confusing, we added a \verb!title!
attribute to the input box to ensure that a screen-reader-user could
determine its purpose.

\subsection{Semantic Markup}

\paragraph{Evaluation Methodology}
We evaluated the semantic structure of the markup using a combination
of HTML CodeSniffer's WCAG2.0AAA validation---obviously this can only
detect a subset of issues, but while it cannot infer the real semantic
meaning of elements it uses heuristics to identify `surprising'
markup, which can often indicate areas which should be checked
manually---manual inspection of the HTML, and the DOM inspection tools
provided by browsers.

\paragraph{Issues Found}
By paying attention to the semantic structure of the document during
the design phase, we pre-empted many issues here: the list of
instructions is just a heavily-styled \verb!<ol>!, for example.

There are a few areas where the appropriate semantic markup is less
obvious: for example, the recipe metadata---category, difficulty,
cooking time, etc.---could be presented as a table or just as a list
of text; in this case, we erred on the side of simplicity.

There were some fundamentally intractable semantic issues resulting
from the general lack of semantic richness in HTML, even after the
improvements with HTML5; fixing these accessibility problems is
outside the scope of this project.

There were also a few instances where heading elements (\verb!h1!,
\verb!h2!, etc.) had been used while prototyping for their visual
effect, resulting in an inconsistent outline for some pages. This
would have presented acessibility problems to anyone using a
screenreader that used the heading structure to help understand the
document. This was easily fixed by restyling the logical headings.

\subsection{Keyboard}

\subsubsection{Evaluation Methodology}

To ensure that the website was keyboard-navigable (useful not only for
power users, but also as an indication of whether the website is
likely to be navigable to users with other accessibility issues), we
wanted to establish that the following conditions were true:

\begin{itemize}
\item Tabbing through elements gives feedback on currently focused
  element.
\item All tab-focusable elements can be activated sensibly by Enter.
\item All functionality specified in the requirements can be accessed
  using the keyboard.
\end{itemize}

To check the first two properties, we went through each page (counting
the search and recipe pages as one page each, rather than expanding
all the combinatoric options), tabbing through to ensure that we could
see the focus location at all times, and checking that the Enter key
behaved as expected.

To check the third property, we went through each functional
requirement and attempted to fulfil it using only the keyboard (as we
were checking for keyboard-navigability, we used our extensive
knowledge of the structure of the site, glossing over temporarily the
issue of discoverable keyboard navigation).

\subsubsection{Issues Found}

In doing this, we found a number of issues:

\paragraph{Highlighting of focused elements.}
Several interactive elements with more complex visual styling---in
particular, the buttons in the header bar and for selecting the level
of detail at which to show recipes---had, in the process, lost the
builtin visual feedback showing which element was selected for
keyboard navigation. This is ironic, as much of the visual styling of
these elements existed to provide more feedback for mouse-based
navigation.

These issues were generally easy to fix using the \verb!:focus!
  pseudo-selector to replicate the browser built-in focus feedback
  (with increased emphasis in some cases to cut through the visual
  complexity).

\paragraph{Keyboard activation of extra interactive functionality.}
Richer pieces of interaction further from the original
hypertext-document model of the web web (in particular, the popup help
and tickable instructions) inherited no default keyboard-navigability
from the browser, and were for some time impossible to control from
the keyboard. This is particularly embarrasing given that the author
of this functionality uses a keyboard-oriented browser with an
interface borrowed from the \textsc{Unix} editor \verb!vim! for
regular browsing.

These issues were more problematic to resolve, as the \verb!onclick!
  event (also fired by keyboard activation) is not consistently bound
  to keyboard activation except in the case of \verb!a!,
  \verb!button!, and \verb!input! elements. This required a few
  slightly irritating changes to the markup and styling of the
  application.

\paragraph{Tab order of search filters}
The search filter form (in our design) sits naturally on the right,
both for visual effect and inter-application consistency (many other
applications with filterable searches place the filters in the right
margin of the results, as a good compromise between being easy to
reach and not distracting from the results).

This places the `natural' tab order for search filters \emph{after}
all search results: this is very inconvenient---tabbing through a few
consistent form elements to reach the results would not be too bad,
but tabbing through a large and variable number of search results to
reach the filters is very annoying.

Part of the solution to this is obviously to place the filters earlier
in the tab order; we did this by placing the filter form before the
results in the DOM, as part of our effort to ensure that the site
would respond tolerably to small browser windows.

However, this introduces a new issue---tabbing now causes the focus to
`skip' across the first few results, which appear visually ``before''
the filters in a left-to-right reading. This could cause the user to
lose track of the focused location.

To resolve this, we added dynamic styling which calls attention to the
filter box whenever one of its elements is selected.

\subsection{Feedforward and Feedback}

\subsubsection{Evaluation Methodology}

Ad-Hoc - list of interactions?

\subsubsection{Issues Found}

\begin{itemize}
\item Ticking off instructions
\item Setting default view
\item Search filters?
\end{itemize}
